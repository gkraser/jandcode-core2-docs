
GenId - генератор уникальных значений
=====================================

@@code-info class=jandcode.core.dbm.genid.GenId 
class=jandcode.core.dbm.genid.GenIdService
                                               
Использование
-------------

Класс `jandcode.core.dbm.genid.GenId` представляет собой поименнованный генератор 
уникальных значений. 

Через сервис модели `jandcode.core.dbm.genid.GenIdService`
можно получить генератор и работать непоседственно с ним.

@@code file=Example1.groovy part=genid

Класс `jandcode.core.dbm.mdb.Mdb` так же имеет методы для работы с генераторами:

@@code file=Example1.groovy part=mdb1

Генераторы, полученные через `mdb` выполняют свои запросы через существующее 
в `mdb` соединение. Генераторы, полученные через сервис `GenIdService` используют
собственное соединение и транзакцию. При необходимости генератор можно принудительно
использовать определенную `mdb`:

@@code file=Example1.groovy part=with_mdb

Кешированные генераторы
-----------------------

При необходимости использования большого числа сгенерированных значений, например при 
массовой вставке записей, можно использовать кешированный генератор:

@@code file=Example1.groovy part=cached

Кешированные генераторы обращаются на сервер только один раз для получения указанного
количеста значений. Если в процессе работы с ними еш исчерпается, автоматически будет 
получена следующая группа значений с сервера.

!!! note 
    Не все реализации генераторов поддерживают кеширование. В этом случае
    кешированный генератор будет вести себя как обычный.


Регистрация
-----------

Для использования генераторов в модель необходимо включить зависимость от модели
`jandcode.core.dbm.genid`. Она содержит стандартные реализации генераторов для
различных баз данных.

По умолчанию для каждого домена, который представляет собой таблицу в базе данных
регистрируется генератор с именем, совпадающем с именем таблицы. Кроме того,
можно регистрировать генераторы без привязки к имени таблицы. Пример:

@@code file=reg.xml

В этом примере регистрируются следующие генераторы:

* `my_table_1`, так как домен `my_table_1` является таблицей в базе данных 
  (`tag.db="true"`). У этого генератора начальное значение по умолчанию `1000` с 
  шагом приращения `2`
* `my_gen_1`, явно зарегистрированный, вне описания таблиц. Начальное значение
  и шаг приращения будут установлены в значения по умолчанию (`1000` и `1`)
  соответсвенно
* `my_gen_1`, явно зарегистрированные, вне описания таблиц. Начальное значение
  и шаг приращения будут взяты из свойств `start` и `step`

Для домена `no_db_table` не будет зарегистрирован генератор, т.к. 
это таблица не в базе данных.








